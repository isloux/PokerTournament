import{_ as c,j as y,g as e,s as l,$ as S}from"./BlHtbM2a.js";function b(i){let m=1;for(const o of i)o.type==="round"?o.level=m++:delete o.level;return i}function T(){let i=c(""),m=c("setup"),o=c(9),f=c(9),r=c(y([])),u=c(y([])),g=c(y([])),p=c(y([])),s=c(y({currentLevelIndex:0,timeRemaining:0,isRunning:!1,startTimestamp:0,timeRemainingAtStart:0}));return{get name(){return e(i)},set name(t){l(i,t,!0)},get status(){return e(m)},set status(t){l(m,t,!0)},get tableSize(){return e(o)},set tableSize(t){l(o,t,!0)},get finalTableThreshold(){return e(f)},set finalTableThreshold(t){l(f,t,!0)},get structure(){return e(r)},set structure(t){l(r,t,!0)},get players(){return e(u)},set players(t){l(u,t,!0)},get tables(){return e(g)},set tables(t){l(g,t,!0)},get eliminations(){return e(p)},set eliminations(t){l(p,t,!0)},get clock(){return e(s)},set clock(t){l(s,t,!0)},addPlayer(t){e(u).push({id:crypto.randomUUID(),name:t,status:"active",tableId:null,seat:null})},removePlayer(t){l(u,e(u).filter(n=>n.id!==t),!0)},get activePlayers(){return e(u).filter(t=>t.status==="active")},addRound({smallBlind:t,bigBlind:n,ante:a,duration:d}){e(r).push({type:"round",smallBlind:t,bigBlind:n,ante:a,duration:d,level:0}),b(e(r))},addBreak(t){e(r).push({type:"break",duration:t})},removeLevel(t){e(r).splice(t,1),b(e(r))},moveLevelUp(t){t<=0||((n=>{var a=S(n,2);e(r)[t-1]=a[0],e(r)[t]=a[1]})([e(r)[t],e(r)[t-1]]),b(e(r)))},moveLevelDown(t){t>=e(r).length-1||((n=>{var a=S(n,2);e(r)[t]=a[0],e(r)[t+1]=a[1]})([e(r)[t+1],e(r)[t]]),b(e(r)))},loadStructure(t){e(r).length=0,e(r).push(...structuredClone(t)),b(e(r))},eliminatePlayer(t,n){const a=e(u).find(d=>d.id===t);!a||a.status!=="active"||(a.status="eliminated",a.tableId=null,a.seat=null,e(p).push({playerId:t,eliminatedBy:n||null,round:e(s).currentLevelIndex,timestamp:new Date().toISOString()}))},save(){const t={name:e(i),status:e(m),tableSize:e(o),finalTableThreshold:e(f),structure:JSON.parse(JSON.stringify(e(r))),players:JSON.parse(JSON.stringify(e(u))),tables:JSON.parse(JSON.stringify(e(g))),eliminations:JSON.parse(JSON.stringify(e(p))),clock:{currentLevelIndex:e(s).currentLevelIndex,timeRemaining:e(s).timeRemaining,isRunning:!1,startTimestamp:e(s).startTimestamp,timeRemainingAtStart:e(s).timeRemainingAtStart}};localStorage.setItem("poker-tournament",JSON.stringify(t))},load(){const t=localStorage.getItem("poker-tournament");if(!t)return;const n=JSON.parse(t);l(i,n.name??"",!0),l(m,n.status??"setup",!0),l(o,n.tableSize??9,!0),l(f,n.finalTableThreshold??9,!0),e(r).length=0,e(r).push(...n.structure??[]),e(u).length=0,e(u).push(...n.players??[]),e(g).length=0,e(g).push(...n.tables??[]),e(p).length=0,e(p).push(...n.eliminations??[]),e(s).currentLevelIndex=n.clock?.currentLevelIndex??0,e(s).timeRemaining=n.clock?.timeRemaining??0,e(s).isRunning=!1,e(s).startTimestamp=n.clock?.startTimestamp??0,e(s).timeRemainingAtStart=n.clock?.timeRemainingAtStart??0},reset(){l(i,""),l(m,"setup"),l(o,9),l(f,9),e(r).length=0,e(u).length=0,e(g).length=0,e(p).length=0,e(s).currentLevelIndex=0,e(s).timeRemaining=0,e(s).isRunning=!1,e(s).startTimestamp=0,e(s).timeRemainingAtStart=0,localStorage.removeItem("poker-tournament")},get standings(){const t=e(u).filter(a=>a.status==="active").map(a=>({...a,position:null})),n=[...e(p)].reverse().map((a,d)=>({...e(u).find(k=>k.id===a.playerId),position:t.length+d+1}));return t.forEach((a,d)=>{a.position=d+1}),t.length===1&&(t[0].position=1),[...t,...n]}}}const I=T(),A={"app.title":{en:"Poker Tournament",fr:"Tournoi de Poker"},"app.newTournament":{en:"New Tournament",fr:"Nouveau Tournoi"},"app.areYouSure":{en:"Are you sure?",fr:"Êtes-vous sûr ?"},"app.confirm":{en:"Confirm",fr:"Confirmer"},"app.cancel":{en:"Cancel",fr:"Annuler"},"tabs.structure":{en:"Structure",fr:"Structure"},"tabs.players":{en:"Players",fr:"Joueurs"},"tabs.tables":{en:"Tables",fr:"Tables"},"tabs.clock":{en:"Clock",fr:"Horloge"},"tabs.eliminations":{en:"Eliminations",fr:"Éliminations"},"structure.loadPreset":{en:"Load preset:",fr:"Charger un preset :"},"structure.addRound":{en:"Add Round",fr:"Ajouter un niveau"},"structure.addBreak":{en:"Add Break",fr:"Ajouter une pause"},"structure.small":{en:"Small",fr:"Petite"},"structure.big":{en:"Big",fr:"Grosse"},"structure.ante":{en:"Ante",fr:"Ante"},"structure.duration":{en:"Min",fr:"Min"},"structure.level":{en:"Level",fr:"Niveau"},"structure.break":{en:"Break",fr:"Pause"},"players.placeholder":{en:"Player name",fr:"Nom du joueur"},"players.add":{en:"Add Player",fr:"Ajouter un joueur"},"players.count":{en:"{total} players registered ({active} active)",fr:"{total} joueurs inscrits ({active} actifs)"},"players.eliminated":{en:"Eliminated",fr:"Éliminé"},"tables.maxPerTable":{en:"Max players per table:",fr:"Joueurs max par table :"},"tables.finalTableAt":{en:"Final table at:",fr:"Table finale à :"},"tables.players":{en:"players",fr:"joueurs"},"tables.assign":{en:"Assign Tables",fr:"Assigner les tables"},"tables.assigned":{en:"Assigned {players} players to {tables} table(s).",fr:"{players} joueurs assignés à {tables} table(s)."},"tables.empty":{en:'No tables assigned yet. Register players and click "Assign Tables".',fr:"Aucune table assignée. Inscrivez des joueurs et cliquez sur « Assigner les tables »."},"tables.seat":{en:"Seat",fr:"Siège"},"clock.setupFirst":{en:"Set up the tournament structure first.",fr:"Configurez d'abord la structure du tournoi."},"clock.break":{en:"BREAK",fr:"PAUSE"},"clock.current":{en:"Current",fr:"En cours"},"clock.next":{en:"Next",fr:"Suivant"},"clock.blinds":{en:"Blinds",fr:"Blindes"},"clock.play":{en:"Play",fr:"Lecture"},"clock.pause":{en:"Pause",fr:"Pause"},"clock.prev":{en:"Prev",fr:"Préc"},"clock.mute":{en:"Mute",fr:"Muet"},"clock.unmute":{en:"Unmute",fr:"Son"},"clock.prevLevel":{en:"Previous level",fr:"Niveau précédent"},"clock.nextLevel":{en:"Next level",fr:"Niveau suivant"},"elim.eliminated":{en:"Eliminated:",fr:"Éliminé :"},"elim.selectPlayer":{en:"Select player...",fr:"Choisir un joueur..."},"elim.by":{en:"By:",fr:"Par :"},"elim.selectEliminator":{en:"Select eliminator...",fr:"Choisir l'éliminateur..."},"elim.eliminate":{en:"Eliminate",fr:"Éliminer"},"elim.winner":{en:"Winner: {name}",fr:"Vainqueur : {name}"},"elim.noActive":{en:"No active players.",fr:"Aucun joueur actif."},"elim.finalTable":{en:"Final Table! {count} player(s) moved.",fr:"Table finale ! {count} joueur(s) déplacé(s)."},"elim.moved":{en:"{name} moved from {from} to {to}",fr:"{name} déplacé de {from} à {to}"},"elim.tournamentOver":{en:"Tournament over! Winner: {name}",fr:"Tournoi terminé ! Vainqueur : {name}"},"elim.standings":{en:"Standings",fr:"Classement"},"elim.position":{en:"#",fr:"#"},"elim.player":{en:"Player",fr:"Joueur"},"elim.status":{en:"Status",fr:"Statut"},"elim.eliminatedBy":{en:"Eliminated By",fr:"Éliminé par"},"elim.playing":{en:"Playing",fr:"En jeu"},"elim.out":{en:"Out",fr:"Sorti"}},h="poker-tournament-locale";let v=c(y(P()));function P(){return typeof localStorage>"u"?"en":localStorage.getItem(h)||"en"}function j(){return e(v)}function R(i){l(v,i,!0),typeof localStorage<"u"&&localStorage.setItem(h,i)}function O(){R(e(v)==="en"?"fr":"en")}function E(i,m={}){const o=A[i];if(!o)return i;let f=o[e(v)]||o.en||i;for(const[r,u]of Object.entries(m))f=f.replace(`{${r}}`,u);return f}export{E as a,O as b,j as g,I as t};
